# Setup Instructions for Docker Hub Publishing\n\nTo enable automated Docker Hub publishing, you need to configure GitHub secrets.\n\n## üîê Required GitHub Secrets\n\nAdd these secrets to your GitHub repository:\n\n### Step 1: Go to GitHub Repository Settings\n\n1. Navigate to: https://github.com/collabnix/broken-link-checker/settings/secrets/actions\n2. Click **\"New repository secret\"**\n\n### Step 2: Add Docker Hub Credentials\n\nAdd these two secrets:\n\n#### Secret 1: `DOCKER_USERNAME`\n- **Name**: `DOCKER_USERNAME`\n- **Value**: Your Docker Hub username (e.g., `collabnix`)\n\n#### Secret 2: `DOCKER_PASSWORD` \n- **Name**: `DOCKER_PASSWORD`\n- **Value**: Your Docker Hub password or access token (recommended)\n\n### Step 3: Create Docker Hub Access Token (Recommended)\n\nInstead of using your password, create an access token:\n\n1. Go to [Docker Hub Account Settings](https://hub.docker.com/settings/security)\n2. Click **\"New Access Token\"**\n3. Name: `github-actions-broken-link-checker`\n4. Permissions: **Read, Write, Delete**\n5. Copy the generated token\n6. Use this token as the `DOCKER_PASSWORD` secret value\n\n## üöÄ Automated Publishing Workflow\n\nOnce secrets are configured, the GitHub Actions workflow will automatically:\n\n### On Push to Main Branch:\n- Build multi-platform image (AMD64, ARM64)\n- Push to Docker Hub as `latest`\n- Run security scans\n- Update Docker Hub description\n\n### On Git Tags (e.g., `v1.0.0`):\n- Build and push versioned tags:\n  - `1.0.0` (exact version)\n  - `1.0` (minor version)  \n  - `1` (major version)\n  - `latest` (if from main branch)\n\n### On Pull Requests:\n- Build and test (but don't push)\n- Run security scans\n- Validate image functionality\n\n## üì¶ Manual Publishing\n\nYou can also publish manually:\n\n### Using Make Commands:\n\n```bash\n# Set credentials\nexport DOCKER_USERNAME=\"collabnix\"\nexport DOCKER_PASSWORD=\"your-token-here\"\n\n# Build and push specific version\nmake publish VERSION=1.0.0\n\n# Build and push latest\nmake docker-hub-push-latest\n```\n\n### Using Build Script:\n\n```bash\n# Set credentials\nexport DOCKER_USERNAME=\"collabnix\"\nexport DOCKER_PASSWORD=\"your-token-here\"\n\n# Build and push\n./scripts/build-and-push.sh 1.0.0\n\n# Dry run (build only)\n./scripts/build-and-push.sh --dry-run 1.0.0\n```\n\n## üè∑Ô∏è Creating Releases\n\n### Automated Release:\n\n```bash\n# Create and push git tag (triggers automated build)\nmake release VERSION=1.0.0\n```\n\n### Manual Release:\n\n```bash\n# Create git tag\ngit tag -a v1.0.0 -m \"Release version 1.0.0\"\ngit push origin v1.0.0\n\n# GitHub Actions will automatically build and publish\n```\n\n## ‚úÖ Verification\n\n### Check GitHub Actions:\n- Go to: https://github.com/collabnix/broken-link-checker/actions\n- Verify builds are successful\n- Check for any error messages\n\n### Check Docker Hub:\n- Go to: https://hub.docker.com/r/collabnix/broken-link-checker-mcp\n- Verify new tags appear\n- Check image sizes and platforms\n\n### Test Published Image:\n\n```bash\n# Test latest image\ndocker run --rm collabnix/broken-link-checker-mcp:latest python -c \"import mcp, aiohttp, bs4; print('‚úÖ Working!')\"\n\n# Test specific version\ndocker run --rm collabnix/broken-link-checker-mcp:1.0.0 python -c \"import mcp, aiohttp, bs4; print('‚úÖ Working!')\"\n```\n\n## üõ†Ô∏è Troubleshooting\n\n### Build Failures:\n\n1. **Check GitHub Actions logs**: https://github.com/collabnix/broken-link-checker/actions\n2. **Verify secrets are set correctly**\n3. **Check Docker Hub credentials**\n4. **Ensure repository has push permissions**\n\n### Authentication Errors:\n\n```bash\n# Test credentials locally\necho \"$DOCKER_PASSWORD\" | docker login -u \"$DOCKER_USERNAME\" --password-stdin\n```\n\n### Platform Build Issues:\n\n```bash\n# Check buildx setup\ndocker buildx ls\n\n# Create new builder if needed\ndocker buildx create --name multiarch --driver docker-container --bootstrap --use\n```\n\n## üìä Monitoring\n\n### GitHub Actions:\n- Build status: https://github.com/collabnix/broken-link-checker/actions\n- Security scans: Check Trivy results in Actions\n- Build logs: Click on specific workflow runs\n\n### Docker Hub:\n- Repository: https://hub.docker.com/r/collabnix/broken-link-checker-mcp\n- Pull statistics and usage analytics\n- Automated security scanning results\n\n## üîÑ Maintenance\n\n### Regular Tasks:\n\n1. **Update dependencies** in requirements.txt\n2. **Create releases** for new features\n3. **Monitor security scans** and update base images\n4. **Check Docker Hub usage** and analytics\n\n### Security Updates:\n\n```bash\n# Update base image and rebuild\ngit commit -m \"Update base image for security patches\"\ngit tag -a v1.0.1 -m \"Security update\"\ngit push origin v1.0.1\n```\n\n---\n\n**Need help?** Open an issue on [GitHub](https://github.com/collabnix/broken-link-checker/issues) with the `docker` label."